<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="auth.login.titleTag">Login â€“ Saudi Tourism</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;800;900&family=Tajawal:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0"
    />

    <link rel="stylesheet" href="../../styles/main.css" />
    <link rel="stylesheet" href="../../styles/chatbot.css" />
    <link rel="stylesheet" href="../../styles/auth.css" />

    <script src="../../scripts/chatbot.js" defer></script>
  </head>
  <body class="auth-page">
    <!-- chatbot (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
    <button id="chatbot-toggler">
      <span class="material-symbols-outlined">mode_comment</span>
      <span class="material-symbols-rounded">close</span>
    </button>
    <div class="chatbot-popup">
      <div class="chat-header">
        <div class="header-info">
          <img style="width: 50px; border-radius: 1000px;" src="../../assets/icons/chatbot-icon.png" alt="">
          <h2 class="logo-text" data-i18n="chatbot.title">Saudi Tourism Bot</h2>
        </div>
        <button id="close-chatbot" class="material-symbols-rounded">
          keyboard_arrow_down
        </button>
      </div>
      <div class="chat-body">
        <div class="message bot-message">
          <img style="width: 50px; border-radius: 1000px;" src="../../assets/icons/chatbot-icon.png" alt="">
          <div dir="auto" class="message-text" data-i18n="chatbot.greeting">
            Hello, I'm Mutlaq, your personal assistant in choosing your next destination. How can I help you?
          </div>
        </div>
      </div>
      <div class="chat-footer">
        <form action="#" class="chat-form">
          <textarea
            dir="auto"
            data-i18n="chatbot.placeholder"
            data-i18n-attr="placeholder"
            placeholder="Ask your question about tourism in Saudi Arabia..."
            class="message-input"
            required
          ></textarea>
          <div class="chat-controls">
            <button type="submit" id="send-message" class="material-symbols-rounded">
              arrow_upward
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="auth-layout">
      <header class="header" id="header">
        <div class="header-inner">
          <div class="brand" aria-label="Saudi Tourism">
            <div class="brand-mark" aria-hidden="true"></div>
            <div>
              <div class="brand-title" data-i18n="header.brandTitle">Visit Saudi Arabia</div>
              <div class="brand-sub" data-i18n="header.brandSub">Explore regions, heritage, and faith</div>
            </div>
          </div>

          <div class="nav-container">
            <button
              class="language-toggle"
              id="language-switcher"
              aria-label="Toggle language"
              title="Switch Language"
            >
              <span class="lang-icon">ğŸŒ</span>
              <span class="lang-text" data-i18n="common.language">Language</span>
            </button>

            <button
              class="theme-toggle"
              id="themeToggle"
              aria-label="Toggle theme"
            >
              <span class="theme-icon">ğŸŒ™</span>
              <span class="theme-text" data-i18n="common.dark">Dark</span>
            </button>

            <nav class="nav" aria-label="Main Navigation">
              <div class="item"><a href="../index.html" data-i18n="common.home">Home</a></div>
              <div class="item"><a href="../maps/map-interactive.html" data-i18n="common.interactiveMap">Interactive Map</a></div>
              <div class="item"><a href="../core/history.html" data-i18n="common.history">History</a></div>
              <div class="item"><a href="../islamic-guide/islamic-guide.html" data-i18n="common.islamicGuide">Islamic Guide</a></div>
            </nav>
          </div>
        </div>
      </header>

      <main class="auth-main">
        <div class="auth-wrapper">
          <div class="auth-card">
            <div class="auth-header">
              <div class="auth-pill">
                <span class="emoji">ğŸ§­</span>
                <span data-i18n="auth.login.pill">Continue your journey</span>
              </div>
              <h1 class="auth-title" data-i18n="auth.login.title">Welcome back</h1>
              <p class="auth-subtitle" data-i18n="auth.login.subtitle">
                Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¹Ø´Ø§Ù† ØªÙƒÙ…Ù‘Ù„ Ø®Ø·Ø· Ø§Ù„Ø±Ø­Ù„Ø§Øª ÙˆØªØ´ÙˆÙ ØªÙ‚ÙŠÙŠÙ…Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©.
              </p>
            </div>

            <form id="loginForm" class="auth-form">
              <div class="auth-field">
                <label class="auth-label" for="loginEmail" data-i18n="auth.login.emailLabel">Email</label>
                <input
                  type="email"
                  id="loginEmail"
                  class="auth-input"
                  placeholder="you@example.com"
                  data-i18n="auth.login.emailPlaceholder"
                  data-i18n-attr="placeholder"
                  required
                />
              </div>

              <div class="auth-field">
                <label class="auth-label" for="loginPassword" data-i18n="auth.login.passwordLabel">Password</label>
                <input
                  type="password"
                  id="loginPassword"
                  class="auth-input"
                  placeholder="Your password"
                  minlength="6"
                  required
                  data-i18n="auth.login.passwordPlaceholder"
                  data-i18n-attr="placeholder"
                />
              </div>

              <button type="submit" class="auth-btn" data-i18n="auth.login.button">
                Sign in
              </button>

              <p id="loginMessage" class="auth-message"></p>
            </form>

            <div class="auth-footer">
              <span data-i18n="auth.login.footerText">Ù…Ø§ Ø¹Ù†Ø¯Ùƒ Ø­Ø³Ø§Ø¨ØŸ</span>
              <a href="register.html" data-i18n="auth.login.footerLink">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="../../scripts/main.js"></script>
    <script src="../../scripts/login.js"></script>

    <!-- (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ù…Ø²Ø§Ù…Ù†Ø© Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ù…Ø¹ i18nØŒ Ù†ÙØ³ ÙÙƒØ±Ø© Islamic Guide -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const applyTitleI18n = () => {
          const titleEl = document.querySelector("title");
          const key = titleEl?.getAttribute("data-i18n");
          if (window.i18n && key) {
            document.title = window.i18n.t(key);
          }
        };
        applyTitleI18n();

        if (window.i18n && typeof window.i18n.refresh === "function") {
          const originalRefresh = window.i18n.refresh.bind(window.i18n);
          window.i18n.refresh = (...args) => {
            const res = originalRefresh(...args);
            applyTitleI18n();
            return res;
          };
        }
      });
    </script>
  </body>
</html>
