<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>User Profile â€¢ Smart Tourism</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- TODO: Ø¹Ø¯Ù‘Ù„ Ù…Ø³Ø§Ø± Ù…Ù„ÙØ§Øª Ø§Ù„Ù€ CSS Ø­Ø³Ø¨ Ù…Ø´Ø±ÙˆØ¹Ùƒ -->
  <link rel="stylesheet" href="../styles/main.css" />
  <link rel="stylesheet" href="../styles/header.css" />
</head>
<body>
  <!-- Header / Navbar -->
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <a href="index.html" class="logo">Smart Tourism</a>
      </div>

      <nav class="nav" aria-label="Main Navigation">
        <!-- Ù†ÙØ³ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù„ÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ ÙÙŠ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙØ­Ø§Øª -->
        <div class="item"><a href="index.html">Home</a></div>
        <div class="item"><a href="map-interactive.html">Interactive Map</a></div>
        <div class="item"><a href="history.html">History</a></div>
        <div class="item"><a href="index.html#regions">Regions</a></div>

        <div class="item has-dropdown">
          <a href="islamic-guide.html">Islamic Guide â–¾</a>
          <div class="dropdown">
            <!-- Ù†ÙØ³ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±ÙˆØ¨ Ø¯Ø§ÙˆÙ† Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ùƒ (Ø¥Ù† ÙˆØ¬Ø¯) -->
          </div>
        </div>

        <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù€ Auth (Ù…Ù‡Ù…Ø© Ø¹Ø´Ø§Ù† main.js) -->
        <div class="item" id="nav-login">
          <a href="login.html">Login</a>
        </div>
        <div class="item" id="nav-register">
          <a href="register.html">Register</a>
        </div>

        <div class="item" id="nav-profile" style="display: none;">
          <a href="profile.html">Profile</a>
        </div>
        <div class="item" id="nav-logout" style="display: none;">
          <a href="#" id="logoutBtn">Logout</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content" style="padding-top: 100px; min-height: 100vh;">
    <section class="profile-section container">
      <h1 class="section-title">Your Profile</h1>
      <p class="section-subtitle">
        Here you can see the account information used to sign in.
      </p>

      <div class="profile-card">
        <div class="profile-row">
          <span class="label">Name:</span>
          <span class="value" id="profileName">-</span>
        </div>
        <div class="profile-row">
          <span class="label">Email:</span>
          <span class="value" id="profileEmail">-</span>
        </div>
        <div class="profile-row">
          <span class="label">Status:</span>
          <span class="value" id="profileStatus">-</span>
        </div>
      </div>

      <div class="profile-actions">
        <a href="index.html" class="btn">Back to Home</a>
      </div>
    </section>
  </main>

  <!-- Simple inline styles (ØªÙ‚Ø¯Ø± ØªÙ†Ù‚Ù„Ù‡Ø§ Ù„Ù…Ù„Ù CSS Ù„Ùˆ Ø­Ø¨ÙŠØª) -->
  <style>
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 1.5rem;
    }

    .section-title {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .section-subtitle {
      color: #666;
      margin-bottom: 1.5rem;
    }

    .profile-card {
      background: #ffffff;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .profile-row {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .profile-row:last-child {
      border-bottom: none;
    }

    .profile-row .label {
      font-weight: 600;
      color: #333;
    }

    .profile-row .value {
      color: #444;
    }

    .profile-actions {
      margin-top: 1.5rem;
    }

    .btn {
      display: inline-block;
      padding: 0.6rem 1.4rem;
      border-radius: 999px;
      text-decoration: none;
      border: none;
      background: #006233; /* Saudi green ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ */
      color: #fff;
      font-weight: 600;
      font-size: 0.95rem;
    }

    .btn:hover {
      opacity: 0.9;
    }
  </style>

  <!-- Scripts -->
  <!-- âœ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ main.js Ø¹Ø´Ø§Ù† ÙŠØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± -->
  <script type="module" src="../scripts/main.js"></script>

  <!-- âœ… ÙƒÙˆØ¯ Ø®Ø§Øµ Ø¨ØµÙØ­Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const token = localStorage.getItem("auth_token");

      // ğŸ”’ Ù„Ùˆ Ù…Ø§ ÙÙŠÙ‡ ØªÙˆÙƒÙ† Ø±Ø¬Ù‘Ø¹Ù‡ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      if (!token) {
        // ØªÙ‚Ø¯Ø± ØªØºÙŠØ±Ù‡Ø§ Ù„Ù€ index.html Ù„Ùˆ ØªØ­Ø¨
        window.location.href = "login.html";
        return;
      }

      const name  = localStorage.getItem("user_name")  || "Unknown";
      const email = localStorage.getItem("user_email") || "Unknown";

      const nameEl   = document.getElementById("profileName");
      const emailEl  = document.getElementById("profileEmail");
      const statusEl = document.getElementById("profileStatus");

      if (nameEl)   nameEl.textContent   = name;
      if (emailEl)  emailEl.textContent  = email;
      if (statusEl) statusEl.textContent = "Logged in âœ…";
    });
  </script>
</body>
</html>
