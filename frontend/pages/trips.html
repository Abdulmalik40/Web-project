<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Trips ‚Ä¢ Smart Tourism Guide</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;800;900&family=Tajawal:wght@400;500;600;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />

    <link rel="stylesheet" href="../styles/main.css" />
    <link rel="stylesheet" href="../styles/chatbot.css" />

    <script src="../scripts/chatbot.js" defer></script>
    <script type="module" src="../scripts/modules/i18n.js"></script>
    <script src="../scripts/header-component.js" defer></script>

    <!-- trips / auth scripts -->
    <script type="module" src="../scripts/auth-nav.js"></script>
    <script type="module" src="../scripts/trips.js"></script>



</head>

<!-- ŸÜÿ≠ŸÖŸä ÿßŸÑÿµŸÅÿ≠ÿ© ÿ®ÿßŸÑŸÉÿßŸÖŸÑ (auth-nav.js ÿ®ŸäŸÇÿ±ÿ£Ÿáÿß) -->

<body data-requires-auth="true" data-post-login-redirect="trips.html">
    <!-- chatbot toggle button -->
    <button id="chatbot-toggler">
        <span class="material-symbols-outlined">mode_comment</span>
        <span class="material-symbols-rounded">close</span>
    </button>

    <!-- chatbot container -->
    <div class="chatbot-popup">
        <div class="chat-header">
            <div class="header-info">
                <img style="width: 50px; border-radius: 1000px;" src="../assets/icons/chatbot-icon.png" alt="">
                <h2 class="logo-text" data-i18n="chatbot.title">Saudi Tourism Bot</h2>
            </div>
            <button id="close-chatbot" class="material-symbols-rounded">
                keyboard_arrow_down
            </button>
        </div>

        <div class="chat-body">
            <div class="message bot-message">
                <img style="width: 50px; border-radius: 1000px;" src="../assets/icons/chatbot-icon.png" alt="">
                <div dir="auto" class="message-text" data-i18n="chatbot.greeting">
                    Hello, I'm Mutlaq, your personal assistant in choosing your next destination. How can I help you?
                </div>
            </div>
        </div>

        <div class="chat-footer">
            <form action="#" class="chat-form">
                <textarea dir="auto" data-i18n="chatbot.placeholder" data-i18n-attr="placeholder"
                    placeholder="Ask your question about tourism in Saudi Arabia..." class="message-input"
                    required></textarea>
                <div class="chat-controls">
                    <button type="submit" id="send-message" class="material-symbols-rounded">
                        arrow_upward
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ŸÜŸÅÿ≥ ÿßŸÑŸáŸäÿØÿ± ÿ≠ŸÇ ÿÆÿ∑ÿ© ÿßŸÑŸÄ 12 ŸäŸàŸÖ ŸÖÿπ ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿßÿ®ÿ∑ My Trips -->
    <header class="header" id="header" data-header-placeholder>
        <div class="header-inner">
            <div class="brand">
                <div class="brand-mark" aria-hidden="true"></div>
                <div>
                    <div class="brand-title">Visit Saudi Arabia</div>
                    <div class="brand-sub">Explore regions, heritage, and faith</div>
                </div>
            </div>

            <div class="nav-container">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    üåô Dark
                </button>
                <nav class="nav" aria-label="Main Navigation">
                    <div class="item"><a href="index.html#home">Home</a></div>
                    <div class="item"><a href="map-interactive.html">Interactive Map</a></div>
                    <div class="item"><a href="history.html">History</a></div>
                    <div class="item"><a href="index.html#tour-plans">Tour Plans</a></div>
                    <div class="item"><a href="trips.html" class="active">My Trips</a></div>
                    <div class="item has-dropdown">
                        <a href="islamic-guide.html">Islamic Guide ‚ñæ</a>
                        <div class="dropdown" role="menu">
                            <a href="qibla.html" role="menuitem">Qibla Finder</a>
                            <a href="prayer-times.html" role="menuitem">Prayer Times</a>
                            <a href="quran.html" role="menuitem">Quran &amp; Du'a</a>
                            <a href="mosques.html" role="menuitem">Nearby Mosques</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- ŸÜÿ≥ÿ™ÿÆÿØŸÖ ŸÜŸÅÿ≥ ÿ≥ÿ™ÿßŸäŸÑ plan-page / plan-section ÿπÿ¥ÿßŸÜ Ÿäÿ∑ŸÑÿπ ÿ¥ŸÉŸÑŸá ÿ¨ŸÖŸäŸÑ -->
    <main class="plan-page">
        <!-- ŸáŸäÿØÿ± ÿ®ÿ≥Ÿäÿ∑ ŸÑŸÑÿµŸÅÿ≠ÿ© -->
        <section class="plan-section plan-overview">
            <h2>My Saved Trips</h2>
            <p>
                Create and manage your own itineraries, then add places directly from the interactive map.
            </p>
            <div class="plan-summary-grid">
                <div class="plan-summary-card">
                    <span>How it works</span>
                    <strong>1. Create a trip</strong>
                    <p>Give your trip a title, choose a main city and number of days.</p>
                </div>
                <div class="plan-summary-card">
                    <span>Then</span>
                    <strong>2. Add places from the map</strong>
                    <p>Open the interactive map and use ‚ÄúAdd to Trip‚Äù on any place you like.</p>
                </div>
                <div class="plan-summary-card">
                    <span>Access</span>
                    <strong>3. View your itinerary</strong>
                    <p>Open any trip to see all added places grouped by day.</p>
                </div>
            </div>
        </section>

        <!-- ŸÖŸÜÿ∑ŸÇÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿÆÿ∑ÿ© ÿ¨ÿØŸäÿØÿ© -->
        <section class="plan-section">
            <h2>Create a New Trip</h2>
            <form id="createTripForm" class="plan-summary-grid">
                <div class="plan-summary-card">
                    <span>Trip title</span>
                    <input type="text" id="tripTitle" placeholder="e.g. Weekend in AlUla" required
                        style="margin-top: 8px; width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;" />
                </div>
                <div class="plan-summary-card">
                    <span>Main city (optional)</span>
                    <input type="text" id="tripCity" placeholder="AlUla, Jeddah, Riyadh..."
                        style="margin-top: 8px; width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;" />
                </div>
                <div class="plan-summary-card">
                    <span>Days</span>
                    <input type="number" id="tripDays" min="1" value="1"
                        style="margin-top: 8px; width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd;" />
                    <button type="button" id="saveTripBtn" class="cta-btn primary"
                        style="margin-top: 12px; width: 100%; text-align: center;">
                        Save Trip
                    </button>
                </div>
            </form>
        </section>

        <!-- ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿÆÿ∑ÿ∑ -->
        <section class="plan-section">
            <h2>Your Trips</h2>
            <div id="tripsEmptyHint" style="margin-bottom: 12px; color: #666;">
                No trips yet ‚Äî create your first trip above.
            </div>
            <div id="tripsContainer" class="plan-summary-grid">
                <!-- Ÿäÿ™ŸÖ ÿ™ÿπÿ®ÿ¶ÿ™Ÿáÿß ŸÖŸÜ trips.js -->
            </div>
        </section>
    </main>

    <script src="../scripts/Script.js"></script>
    <script>
        // i18n refresh ŸÖÿ´ŸÑ ÿµŸÅÿ≠ÿ© ÿßŸÑÿÆÿ∑ÿ©
        document.addEventListener("DOMContentLoaded", () => {
            if (window.i18n) {
                window.i18n.refresh();
            } else {
                const checkI18n = setInterval(() => {
                    if (window.i18n) {
                        window.i18n.refresh();
                        clearInterval(checkI18n);
                    }
                }, 100);
                setTimeout(() => clearInterval(checkI18n), 5000);
            }
        });
    </script>
</body>

</html>